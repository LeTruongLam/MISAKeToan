{"ast":null,"code":"export default {\n  name: \"TheEmployeeDettail\",\n  props: [\"\"],\n  mounted() {\n    // Tự đôngj focus vào input\n    document.getElementById(\"txtId\").focus();\n  },\n  methods: {\n    // Thực hiện 2 hành động kiểm tra và thông báo\n    handleButtonClick() {\n      this.checkInput();\n      // this.onShowDialog()\n    },\n\n    // Kiểm tra giá trị input có rỗng không\n    checkInput() {\n      if (this.inputValue === \"\") {\n        this.validate = true;\n      } else {\n        this.validate = true;\n        this.onShowNotify();\n        // this.onClose();\n      }\n    },\n\n    //Đóng form\n    onCloseForm() {\n      this.$emitter.emit(\"onClose\");\n      this.$emit('showSuccessMessage', 'Lưu thành công');\n    },\n    // Mở Dialog\n    onShowDialog() {\n      this.showDialog = true;\n    },\n    // Đóng Dialog\n    onCloseDialog() {\n      this.showDialog = false;\n    },\n    // Hiện thông báo và ẩn trong 5 giây\n    onShowNotify() {\n      this.showNotify = true;\n      setTimeout(() => {\n        this.showNotify = false;\n      }, 5000);\n    },\n    // Thêm và cất\n    // Hiển thị thông báo và làm mới input\n    onSaveAdd() {\n      this.onSave();\n      this.customer.CustomerCode = \"\";\n      this.customer.FullName = \"\";\n      this.customer.Email = \"\";\n      this.customer.PhoneNumber = \"\";\n      document.getElementById(\"txtId\").focus();\n    },\n    // Lưu thông tin\n    // HIển thị thông báo\n    onSave() {\n      this.$axios.post(\"https://cukcuk.manhnv.net/api/v1/customers\", this.customer).then(res => {\n        console.log(\"OK: \", res);\n        this.showDialog = false;\n        this.$emit('save-success');\n      }).catch(error => {\n        this.onShowErrHadle(error);\n        // this.contentDialog = error;\n        console.log(\"error: \", error);\n      });\n    },\n    onShowErrHadle(error) {\n      const code = error.response.status;\n      const msg = error.response.data.userMsg;\n      switch (code) {\n        case 500:\n          this.onShowError(code, msg);\n          break;\n        case 400:\n          this.onShowError(code, msg);\n          break;\n        case 300:\n          this.onShowError(code, msg);\n          break;\n        case 200:\n          this.onShowError(code, msg);\n          break;\n        default:\n          // Xử lý khi có lỗi khác\n          this.onShowError(code, msg);\n          break;\n      }\n      // this.contentDialog = error;\n      console.log(\"error: \", error);\n    },\n    // Hiển thị ra lỗi thông báo cho người dùng\n    onShowError(code, msg) {\n      // this.onShowNotify();\n      this.onShowDialog();\n      // this.titleNotify = \"Cảnh báo!\";\n      // this.iconNotify = this.$MISAEnum.MISANotify.Warning.id;\n      console.log(\"Code: \", code);\n      this.contentNotify = msg;\n      this.contentDialog = msg;\n    }\n  },\n  data() {\n    return {\n      iconNotify: this.$MISAEnum.MISANotify.Success.id,\n      titleNotify: \"\",\n      contentNotify: \"\",\n      contentDialog: \"\",\n      showDialog: false,\n      inputValue: \"\",\n      validate: true,\n      showNotify: false,\n      customer: {\n        CustomerCode: \"\",\n        FullName: \"\",\n        Email: \"\",\n        PhoneNumber: \"\"\n      }\n    };\n  }\n};","map":{"version":3,"names":["name","props","mounted","document","getElementById","focus","methods","handleButtonClick","checkInput","inputValue","validate","onShowNotify","onCloseForm","$emitter","emit","$emit","onShowDialog","showDialog","onCloseDialog","showNotify","setTimeout","onSaveAdd","onSave","customer","CustomerCode","FullName","Email","PhoneNumber","$axios","post","then","res","console","log","catch","error","onShowErrHadle","code","response","status","msg","data","userMsg","onShowError","contentNotify","contentDialog","iconNotify","$MISAEnum","MISANotify","Success","id","titleNotify"],"sources":["C:\\Users\\Acer\\Documents\\Misa\\tuan 1\\web202307\\mf1731-ltlam\\vue\\misa-web7-vue\\src\\views\\employee\\EmployeeDetail.vue"],"sourcesContent":["<template>\r\n  <div id=\"add\" class=\"form-hide\">\r\n    <div class=\"form-container\">\r\n      <div class=\"form-content\">\r\n        <div class=\"form-wrapper\">\r\n          <div class=\"title-form\">\r\n            <div class=\"title-form-left\">\r\n              <h1>Thông tin nhân viên</h1>\r\n              <p>\r\n                <input type=\"checkbox\" id=\"myCheckbox\" checked />\r\n                <label for=\"\">Là khách hàng</label>\r\n              </p>\r\n              <p>\r\n                <input type=\"checkbox\" id=\"myCheckbox\" />\r\n                <label for=\"\">Là nhà cung cấp</label>\r\n              </p>\r\n            </div>\r\n\r\n            <div class=\"title-form-right\">\r\n              <div class=\"question-icon\"></div>\r\n              <a @click=\"onCloseForm\">\r\n                <div class=\"close-icon\"></div>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-content-main\">\r\n            <div class=\"employee-infor\">\r\n              <div class=\"input-form\">\r\n                <div class=\"input-row\">\r\n                  <div class=\"employee-id\">\r\n                    <p class=\"text-boil\">\r\n                      Mã\r\n                      <span>*</span>\r\n                    </p>\r\n\r\n                    <div class=\"search-bar\">\r\n                      <input\r\n                        id=\"txtId\"\r\n                        type=\"text\"\r\n                        placeholder=\"\"\r\n                        v-model=\"customer.CustomerCode\"\r\n                      />\r\n                    </div>\r\n                    <label class=\"validate-form\">{{\r\n                      customer.CustomerCode\r\n                    }}</label>\r\n                  </div>\r\n                  <div class=\"employee-name\">\r\n                    <p class=\"text-boil\">\r\n                      Tên\r\n                      <span>*</span>\r\n                    </p>\r\n\r\n                    <div class=\"search-bar\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"\"\r\n                        v-model=\"customer.FullName\"\r\n                      />\r\n                    </div>\r\n                    <label class=\"validate-form\">{{ customer.FullName }}</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"input-form\">\r\n                <m-input\r\n                  title=\"Đơn vị\"\r\n                  :getValue=\"getValueInput\"\r\n                  :showNote=\"true\"\r\n                  :showTitle=\"true\"\r\n                  :showIcon=\"true\"\r\n                ></m-input>\r\n                <!-- <ms-combobox  style=\"width:100%\"\r\n                url=\"https://cukcuk.manhnv.net/api/v1/employees\"\r\n                propText=\"DepartmentName\"\r\n                propValue=\"EmployeeId\"\r\n                >\r\n                </ms-combobox> -->\r\n              </div>\r\n              <div class=\"input-form\">\r\n                <m-input\r\n                  title=\"Chức danh\"\r\n                  :getValue=\"getValueInput\"\r\n                  :showNote=\"false\"\r\n                  :showTitle=\"true\"\r\n                  :showIcon=\"false\"\r\n                ></m-input>\r\n              </div>\r\n            </div>\r\n            <div class=\"employee-infor-right\">\r\n              <div class=\"input-form\">\r\n                <div class=\"input-row\">\r\n                  <div class=\"employee-id\">\r\n                    <p class=\"text-boil\">Ngày sinh</p>\r\n\r\n                    <div class=\"search-bar\">\r\n                      <!-- <input type=\"date\" placeholder=\"dd/mm/yyyy\" /> -->\r\n                      <input type=\"text\" placeholder=\"dd/mm/yyyy\" />\r\n                      <label for=\"search-box\" class=\"date-icon\"></label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"employee-name\">\r\n                    <p class=\"text-boil\">Giới tính</p>\r\n\r\n                    <div class=\"radio-row\">\r\n                      <span>\r\n                        <input type=\"radio\" name=\"gender\" checked />\r\n                        <label for=\"\">Nam</label>\r\n                      </span>\r\n                      <span>\r\n                        <input type=\"radio\" name=\"gender\" />\r\n                        <label for=\"\">Nữ</label>\r\n                      </span>\r\n                      <span>\r\n                        <input type=\"radio\" name=\"gender\" />\r\n                        <label for=\"\">Khác</label>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"input-form\">\r\n                <div class=\"input-row\">\r\n                  <div class=\"employee-name\">\r\n                    <p class=\"text-boil\">\r\n                      <label title=\"Số chứng minh nhân dân\">Số CMND</label>\r\n                    </p>\r\n                    <div class=\"search-bar\">\r\n                      <input type=\"text\" placeholder=\"\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"employee-id\">\r\n                    <p class=\"text-boil\">Ngày cấp</p>\r\n                    <div class=\"search-bar\">\r\n                      <!-- <input type=\"date\" placeholder=\"dd/mm/yyyy\" /> -->\r\n                      <input type=\"text\" placeholder=\"dd/mm/yyyy\" />\r\n                      <label for=\"search-box\" class=\"date-icon\"></label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"input-form\">\r\n                <m-input\r\n                  title=\"Nơi cấp\"\r\n                  :getValue=\"getValueInput\"\r\n                  :showNote=\"false\"\r\n                  :showTitle=\"true\"\r\n                  :showIcon=\"false\"\r\n                ></m-input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"employee-address\">\r\n            <div class=\"input-form\">\r\n              <m-input\r\n                title=\"Địa chỉ\"\r\n                :getValue=\"getValueInput\"\r\n                :showNote=\"false\"\r\n                :showTitle=\"true\"\r\n                :showIcon=\"false\"\r\n              ></m-input>\r\n            </div>\r\n            <div class=\"input-form\">\r\n              <div class=\"input-row\">\r\n                <div class=\"employee-id\">\r\n                  <p class=\"text-boil\">Điện thoại di động</p>\r\n\r\n                  <div class=\"search-bar\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"\"\r\n                      v-model=\"customer.PhoneNumber\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"employee-id\">\r\n                  <p class=\"text-boil\">Email</p>\r\n\r\n                  <div class=\"search-bar\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"\"\r\n                      v-model=\"customer.Email\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"buttons\">\r\n          <a href=\"#\" class=\"button-left\">\r\n            <a @click=\"onCloseForm\">\r\n              <m-button class=\"button-white\" content=\"Hủy\"></m-button>\r\n            </a>\r\n          </a>\r\n          <div class=\"buttom-right\">\r\n            <a>\r\n              <m-button\r\n                class=\"button-white\"\r\n                @click=\"onSave\"\r\n                content=\"Cất\"\r\n              ></m-button\r\n            ></a>\r\n            <a href=\"#\">\r\n              <m-button\r\n                class=\"m-left-20\"\r\n                @click=\"onSaveAdd\"\r\n                content=\"Cất và thêm\"\r\n              ></m-button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <m-dialog\r\n    v-if=\"showDialog\"\r\n    :title=\"$MISAEnum['MISADialog'].Warning.title\"\r\n    :type=\"$MISAEnum['MISADialog'].Warning.id\"\r\n    :content=\"contentDialog\"\r\n    @onClose=\"onCloseDialog\"\r\n  >\r\n  </m-dialog>\r\n  <m-notify\r\n    v-if=\"showNotify\"\r\n    :title=\"titleNotify\"\r\n    :type=\"iconNotify\"\r\n    :message=\"contentNotify\"\r\n  ></m-notify>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"TheEmployeeDettail\",\r\n  props: [\"\"],\r\n  mounted() {\r\n    // Tự đôngj focus vào input\r\n    document.getElementById(\"txtId\").focus();\r\n  },\r\n  methods: {\r\n    // Thực hiện 2 hành động kiểm tra và thông báo\r\n    handleButtonClick() {\r\n      this.checkInput();\r\n      // this.onShowDialog()\r\n    },\r\n    // Kiểm tra giá trị input có rỗng không\r\n    checkInput() {\r\n      if (this.inputValue === \"\") {\r\n        this.validate = true;\r\n      } else {\r\n        this.validate = true;\r\n        this.onShowNotify();\r\n        // this.onClose();\r\n      }\r\n    },\r\n    //Đóng form\r\n    onCloseForm() {\r\n      this.$emitter.emit(\"onClose\");\r\n      this.$emit('showSuccessMessage', 'Lưu thành công');\r\n    },\r\n    // Mở Dialog\r\n    onShowDialog() {\r\n      this.showDialog = true;\r\n    },\r\n    // Đóng Dialog\r\n    onCloseDialog() {\r\n      this.showDialog = false;\r\n    },\r\n    // Hiện thông báo và ẩn trong 5 giây\r\n    onShowNotify() {\r\n      this.showNotify = true;\r\n      setTimeout(() => {\r\n        this.showNotify = false;\r\n      }, 5000);\r\n    },\r\n    // Thêm và cất\r\n    // Hiển thị thông báo và làm mới input\r\n    onSaveAdd() {\r\n      this.onSave();\r\n      this.customer.CustomerCode = \"\";\r\n      this.customer.FullName = \"\";\r\n      this.customer.Email = \"\";\r\n      this.customer.PhoneNumber = \"\";\r\n      document.getElementById(\"txtId\").focus();\r\n    },\r\n    // Lưu thông tin\r\n    // HIển thị thông báo\r\n    onSave() {\r\n      this.$axios\r\n        .post(\"https://cukcuk.manhnv.net/api/v1/customers\", this.customer)\r\n        .then((res) => {\r\n          console.log(\"OK: \", res);\r\n          this.showDialog = false;\r\n          this.$emit('save-success');\r\n        })\r\n        .catch((error) => {\r\n          this.onShowErrHadle(error);\r\n          // this.contentDialog = error;\r\n          console.log(\"error: \", error);\r\n        });\r\n    },\r\n    onShowErrHadle(error) {\r\n      const code = error.response.status;\r\n      const msg = error.response.data.userMsg;\r\n      switch (code) {\r\n        case 500:\r\n          this.onShowError(code, msg);\r\n\r\n          break;\r\n        case 400:\r\n          this.onShowError(code, msg);\r\n\r\n          break;\r\n        case 300:\r\n          this.onShowError(code, msg);\r\n\r\n          break;\r\n        case 200:\r\n          this.onShowError(code, msg);\r\n          break;\r\n        default:\r\n          // Xử lý khi có lỗi khác\r\n          this.onShowError(code, msg);\r\n          break;\r\n      }\r\n      // this.contentDialog = error;\r\n      console.log(\"error: \", error);\r\n    },\r\n    // Hiển thị ra lỗi thông báo cho người dùng\r\n    onShowError(code, msg) {\r\n      // this.onShowNotify();\r\n      this.onShowDialog();\r\n      // this.titleNotify = \"Cảnh báo!\";\r\n      // this.iconNotify = this.$MISAEnum.MISANotify.Warning.id;\r\n      console.log(\"Code: \", code);\r\n      this.contentNotify = msg;\r\n      this.contentDialog = msg;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      iconNotify: this.$MISAEnum.MISANotify.Success.id,\r\n      titleNotify: \"\",\r\n      contentNotify: \"\",\r\n      contentDialog: \"\",\r\n      showDialog: false,\r\n      inputValue: \"\",\r\n      validate: true,\r\n      showNotify: false,\r\n      customer: {\r\n        CustomerCode: \"\",\r\n        FullName: \"\",\r\n        Email: \"\",\r\n        PhoneNumber: \"\",\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.m-left-20 {\r\n  margin-left: 8px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}